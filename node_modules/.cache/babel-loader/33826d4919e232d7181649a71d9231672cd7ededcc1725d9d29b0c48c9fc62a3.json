{"ast":null,"code":"/*! @azure/msal-browser v4.13.1 2025-06-10 */\n'use strict';\n\nimport { createBrowserAuthError } from '../error/BrowserAuthError.mjs';\nimport { DB_NAME, DB_VERSION, DB_TABLE_NAME } from '../utils/BrowserConstants.mjs';\nimport { databaseUnavailable, databaseNotOpen } from '../error/BrowserAuthErrorCodes.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * Storage wrapper for IndexedDB storage in browsers: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\r\n */\nclass DatabaseStorage {\n  constructor() {\n    this.dbName = DB_NAME;\n    this.version = DB_VERSION;\n    this.tableName = DB_TABLE_NAME;\n    this.dbOpen = false;\n  }\n  /**\r\n   * Opens IndexedDB instance.\r\n   */\n  async open() {\n    return new Promise((resolve, reject) => {\n      const openDB = window.indexedDB.open(this.dbName, this.version);\n      openDB.addEventListener(\"upgradeneeded\", e => {\n        const event = e;\n        event.target.result.createObjectStore(this.tableName);\n      });\n      openDB.addEventListener(\"success\", e => {\n        const event = e;\n        this.db = event.target.result;\n        this.dbOpen = true;\n        resolve();\n      });\n      openDB.addEventListener(\"error\", () => reject(createBrowserAuthError(databaseUnavailable)));\n    });\n  }\n  /**\r\n   * Closes the connection to IndexedDB database when all pending transactions\r\n   * complete.\r\n   */\n  closeConnection() {\n    const db = this.db;\n    if (db && this.dbOpen) {\n      db.close();\n      this.dbOpen = false;\n    }\n  }\n  /**\r\n   * Opens database if it's not already open\r\n   */\n  async validateDbIsOpen() {\n    if (!this.dbOpen) {\n      return this.open();\n    }\n  }\n  /**\r\n   * Retrieves item from IndexedDB instance.\r\n   * @param key\r\n   */\n  async getItem(key) {\n    await this.validateDbIsOpen();\n    return new Promise((resolve, reject) => {\n      // TODO: Add timeouts?\n      if (!this.db) {\n        return reject(createBrowserAuthError(databaseNotOpen));\n      }\n      const transaction = this.db.transaction([this.tableName], \"readonly\");\n      const objectStore = transaction.objectStore(this.tableName);\n      const dbGet = objectStore.get(key);\n      dbGet.addEventListener(\"success\", e => {\n        const event = e;\n        this.closeConnection();\n        resolve(event.target.result);\n      });\n      dbGet.addEventListener(\"error\", e => {\n        this.closeConnection();\n        reject(e);\n      });\n    });\n  }\n  /**\r\n   * Adds item to IndexedDB under given key\r\n   * @param key\r\n   * @param payload\r\n   */\n  async setItem(key, payload) {\n    await this.validateDbIsOpen();\n    return new Promise((resolve, reject) => {\n      // TODO: Add timeouts?\n      if (!this.db) {\n        return reject(createBrowserAuthError(databaseNotOpen));\n      }\n      const transaction = this.db.transaction([this.tableName], \"readwrite\");\n      const objectStore = transaction.objectStore(this.tableName);\n      const dbPut = objectStore.put(payload, key);\n      dbPut.addEventListener(\"success\", () => {\n        this.closeConnection();\n        resolve();\n      });\n      dbPut.addEventListener(\"error\", e => {\n        this.closeConnection();\n        reject(e);\n      });\n    });\n  }\n  /**\r\n   * Removes item from IndexedDB under given key\r\n   * @param key\r\n   */\n  async removeItem(key) {\n    await this.validateDbIsOpen();\n    return new Promise((resolve, reject) => {\n      if (!this.db) {\n        return reject(createBrowserAuthError(databaseNotOpen));\n      }\n      const transaction = this.db.transaction([this.tableName], \"readwrite\");\n      const objectStore = transaction.objectStore(this.tableName);\n      const dbDelete = objectStore.delete(key);\n      dbDelete.addEventListener(\"success\", () => {\n        this.closeConnection();\n        resolve();\n      });\n      dbDelete.addEventListener(\"error\", e => {\n        this.closeConnection();\n        reject(e);\n      });\n    });\n  }\n  /**\r\n   * Get all the keys from the storage object as an iterable array of strings.\r\n   */\n  async getKeys() {\n    await this.validateDbIsOpen();\n    return new Promise((resolve, reject) => {\n      if (!this.db) {\n        return reject(createBrowserAuthError(databaseNotOpen));\n      }\n      const transaction = this.db.transaction([this.tableName], \"readonly\");\n      const objectStore = transaction.objectStore(this.tableName);\n      const dbGetKeys = objectStore.getAllKeys();\n      dbGetKeys.addEventListener(\"success\", e => {\n        const event = e;\n        this.closeConnection();\n        resolve(event.target.result);\n      });\n      dbGetKeys.addEventListener(\"error\", e => {\n        this.closeConnection();\n        reject(e);\n      });\n    });\n  }\n  /**\r\n   *\r\n   * Checks whether there is an object under the search key in the object store\r\n   */\n  async containsKey(key) {\n    await this.validateDbIsOpen();\n    return new Promise((resolve, reject) => {\n      if (!this.db) {\n        return reject(createBrowserAuthError(databaseNotOpen));\n      }\n      const transaction = this.db.transaction([this.tableName], \"readonly\");\n      const objectStore = transaction.objectStore(this.tableName);\n      const dbContainsKey = objectStore.count(key);\n      dbContainsKey.addEventListener(\"success\", e => {\n        const event = e;\n        this.closeConnection();\n        resolve(event.target.result === 1);\n      });\n      dbContainsKey.addEventListener(\"error\", e => {\n        this.closeConnection();\n        reject(e);\n      });\n    });\n  }\n  /**\r\n   * Deletes the MSAL database. The database is deleted rather than cleared to make it possible\r\n   * for client applications to downgrade to a previous MSAL version without worrying about forward compatibility issues\r\n   * with IndexedDB database versions.\r\n   */\n  async deleteDatabase() {\n    // Check if database being deleted exists\n    if (this.db && this.dbOpen) {\n      this.closeConnection();\n    }\n    return new Promise((resolve, reject) => {\n      const deleteDbRequest = window.indexedDB.deleteDatabase(DB_NAME);\n      const id = setTimeout(() => reject(false), 200); // Reject if events aren't raised within 200ms\n      deleteDbRequest.addEventListener(\"success\", () => {\n        clearTimeout(id);\n        return resolve(true);\n      });\n      deleteDbRequest.addEventListener(\"blocked\", () => {\n        clearTimeout(id);\n        return resolve(true);\n      });\n      deleteDbRequest.addEventListener(\"error\", () => {\n        clearTimeout(id);\n        return reject(false);\n      });\n    });\n  }\n}\nexport { DatabaseStorage };","map":{"version":3,"names":["DatabaseStorage","constructor","dbName","DB_NAME","version","DB_VERSION","tableName","DB_TABLE_NAME","dbOpen","open","Promise","resolve","reject","openDB","window","indexedDB","addEventListener","e","event","target","result","createObjectStore","db","createBrowserAuthError","databaseUnavailable","closeConnection","close","validateDbIsOpen","getItem","key","databaseNotOpen","transaction","objectStore","dbGet","get","setItem","payload","dbPut","put","removeItem","dbDelete","delete","getKeys","dbGetKeys","getAllKeys","containsKey","dbContainsKey","count","deleteDatabase","deleteDbRequest","id","setTimeout","clearTimeout"],"sources":["/Users/yuri.narang/Desktop/bondly-workplace-community-hub/node_modules/@azure/msal-browser/src/cache/DatabaseStorage.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport {\n    createBrowserAuthError,\n    BrowserAuthErrorCodes,\n} from \"../error/BrowserAuthError.js\";\nimport {\n    DB_NAME,\n    DB_TABLE_NAME,\n    DB_VERSION,\n} from \"../utils/BrowserConstants.js\";\nimport { IAsyncStorage } from \"./IAsyncStorage.js\";\n\ninterface IDBOpenDBRequestEvent extends Event {\n    target: IDBOpenDBRequest & EventTarget;\n}\n\ninterface IDBOpenOnUpgradeNeededEvent extends IDBVersionChangeEvent {\n    target: IDBOpenDBRequest & EventTarget;\n}\n\ninterface IDBRequestEvent extends Event {\n    target: IDBRequest & EventTarget;\n}\n\n/**\n * Storage wrapper for IndexedDB storage in browsers: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\n */\nexport class DatabaseStorage<T> implements IAsyncStorage<T> {\n    private db: IDBDatabase | undefined;\n    private dbName: string;\n    private tableName: string;\n    private version: number;\n    private dbOpen: boolean;\n\n    constructor() {\n        this.dbName = DB_NAME;\n        this.version = DB_VERSION;\n        this.tableName = DB_TABLE_NAME;\n        this.dbOpen = false;\n    }\n\n    /**\n     * Opens IndexedDB instance.\n     */\n    async open(): Promise<void> {\n        return new Promise((resolve, reject) => {\n            const openDB = window.indexedDB.open(this.dbName, this.version);\n            openDB.addEventListener(\n                \"upgradeneeded\",\n                (e: IDBVersionChangeEvent) => {\n                    const event = e as IDBOpenOnUpgradeNeededEvent;\n                    event.target.result.createObjectStore(this.tableName);\n                }\n            );\n            openDB.addEventListener(\"success\", (e: Event) => {\n                const event = e as IDBOpenDBRequestEvent;\n                this.db = event.target.result;\n                this.dbOpen = true;\n                resolve();\n            });\n            openDB.addEventListener(\"error\", () =>\n                reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseUnavailable\n                    )\n                )\n            );\n        });\n    }\n\n    /**\n     * Closes the connection to IndexedDB database when all pending transactions\n     * complete.\n     */\n    closeConnection(): void {\n        const db = this.db;\n        if (db && this.dbOpen) {\n            db.close();\n            this.dbOpen = false;\n        }\n    }\n\n    /**\n     * Opens database if it's not already open\n     */\n    private async validateDbIsOpen(): Promise<void> {\n        if (!this.dbOpen) {\n            return this.open();\n        }\n    }\n\n    /**\n     * Retrieves item from IndexedDB instance.\n     * @param key\n     */\n    async getItem(key: string): Promise<T | null> {\n        await this.validateDbIsOpen();\n        return new Promise<T>((resolve, reject) => {\n            // TODO: Add timeouts?\n            if (!this.db) {\n                return reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseNotOpen\n                    )\n                );\n            }\n            const transaction = this.db.transaction(\n                [this.tableName],\n                \"readonly\"\n            );\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbGet = objectStore.get(key);\n\n            dbGet.addEventListener(\"success\", (e: Event) => {\n                const event = e as IDBRequestEvent;\n                this.closeConnection();\n                resolve(event.target.result);\n            });\n\n            dbGet.addEventListener(\"error\", (e: Event) => {\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n\n    /**\n     * Adds item to IndexedDB under given key\n     * @param key\n     * @param payload\n     */\n    async setItem(key: string, payload: T): Promise<void> {\n        await this.validateDbIsOpen();\n        return new Promise<void>((resolve: Function, reject: Function) => {\n            // TODO: Add timeouts?\n            if (!this.db) {\n                return reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseNotOpen\n                    )\n                );\n            }\n            const transaction = this.db.transaction(\n                [this.tableName],\n                \"readwrite\"\n            );\n\n            const objectStore = transaction.objectStore(this.tableName);\n\n            const dbPut = objectStore.put(payload, key);\n\n            dbPut.addEventListener(\"success\", () => {\n                this.closeConnection();\n                resolve();\n            });\n\n            dbPut.addEventListener(\"error\", (e) => {\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n\n    /**\n     * Removes item from IndexedDB under given key\n     * @param key\n     */\n    async removeItem(key: string): Promise<void> {\n        await this.validateDbIsOpen();\n        return new Promise<void>((resolve: Function, reject: Function) => {\n            if (!this.db) {\n                return reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseNotOpen\n                    )\n                );\n            }\n\n            const transaction = this.db.transaction(\n                [this.tableName],\n                \"readwrite\"\n            );\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbDelete = objectStore.delete(key);\n\n            dbDelete.addEventListener(\"success\", () => {\n                this.closeConnection();\n                resolve();\n            });\n\n            dbDelete.addEventListener(\"error\", (e) => {\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n\n    /**\n     * Get all the keys from the storage object as an iterable array of strings.\n     */\n    async getKeys(): Promise<string[]> {\n        await this.validateDbIsOpen();\n        return new Promise<string[]>((resolve: Function, reject: Function) => {\n            if (!this.db) {\n                return reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseNotOpen\n                    )\n                );\n            }\n\n            const transaction = this.db.transaction(\n                [this.tableName],\n                \"readonly\"\n            );\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbGetKeys = objectStore.getAllKeys();\n\n            dbGetKeys.addEventListener(\"success\", (e: Event) => {\n                const event = e as IDBRequestEvent;\n                this.closeConnection();\n                resolve(event.target.result);\n            });\n\n            dbGetKeys.addEventListener(\"error\", (e: Event) => {\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n\n    /**\n     *\n     * Checks whether there is an object under the search key in the object store\n     */\n    async containsKey(key: string): Promise<boolean> {\n        await this.validateDbIsOpen();\n\n        return new Promise<boolean>((resolve: Function, reject: Function) => {\n            if (!this.db) {\n                return reject(\n                    createBrowserAuthError(\n                        BrowserAuthErrorCodes.databaseNotOpen\n                    )\n                );\n            }\n\n            const transaction = this.db.transaction(\n                [this.tableName],\n                \"readonly\"\n            );\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbContainsKey = objectStore.count(key);\n\n            dbContainsKey.addEventListener(\"success\", (e: Event) => {\n                const event = e as IDBRequestEvent;\n                this.closeConnection();\n                resolve(event.target.result === 1);\n            });\n\n            dbContainsKey.addEventListener(\"error\", (e: Event) => {\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n\n    /**\n     * Deletes the MSAL database. The database is deleted rather than cleared to make it possible\n     * for client applications to downgrade to a previous MSAL version without worrying about forward compatibility issues\n     * with IndexedDB database versions.\n     */\n    async deleteDatabase(): Promise<boolean> {\n        // Check if database being deleted exists\n\n        if (this.db && this.dbOpen) {\n            this.closeConnection();\n        }\n\n        return new Promise<boolean>((resolve: Function, reject: Function) => {\n            const deleteDbRequest = window.indexedDB.deleteDatabase(DB_NAME);\n            const id = setTimeout(() => reject(false), 200); // Reject if events aren't raised within 200ms\n            deleteDbRequest.addEventListener(\"success\", () => {\n                clearTimeout(id);\n                return resolve(true);\n            });\n            deleteDbRequest.addEventListener(\"blocked\", () => {\n                clearTimeout(id);\n                return resolve(true);\n            });\n            deleteDbRequest.addEventListener(\"error\", () => {\n                clearTimeout(id);\n                return reject(false);\n            });\n        });\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}